!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=function(){function t(t,e){void 0===e&&(e=0),this.arrayBuffer=t,this.index=e,this.dataView=new DataView(t)}return t.prototype.getInt8=function(){var t=this.dataView.getInt8(this.index);return this.index+=1,t},t.prototype.getUint8=function(){var t=this.dataView.getUint8(this.index);return this.index+=1,t},t.prototype.getInt16=function(t){void 0===t&&(t=!0);var e=this.dataView.getInt16(this.index,t);return this.index+=2,e},t.prototype.getUint16=function(t){void 0===t&&(t=!0);var e=this.dataView.getUint16(this.index,t);return this.index+=2,e},t.prototype.getInt32=function(t){void 0===t&&(t=!0);var e=this.dataView.getInt32(this.index,t);return this.index+=4,e},t.prototype.getUint32=function(t){void 0===t&&(t=!0);var e=this.dataView.getUint32(this.index,t);return this.index+=4,e},t.prototype.getFloat32=function(t){void 0===t&&(t=!0);var e=this.dataView.getFloat32(this.index,t);return this.index+=4,e},t.prototype.getFloat64=function(t){void 0===t&&(t=!0);var e=this.dataView.getFloat64(this.index,t);return this.index+=8,e},t.prototype.getString=function(t){var e=this.getBinary(t),n=[].slice.call(e);return String.fromCharCode.apply(String,n)},t.prototype.getBinary=function(t){if(void 0===t){var e=new Uint8Array(this.arrayBuffer,this.index);return this.index=this.arrayBuffer.byteLength,e}e=new Uint8Array(this.arrayBuffer,this.index,t);return this.index+=t,e},t}(),i=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=new DataView(new Uint8Array(4*e.length).buffer),i=0;i<e.length;i++)r.setUint32(4*i,e[i],t);return new Uint8Array(r.buffer)},o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.reduce(function(t,e){return t+e.length},0),r=new Uint8Array(n),i=0,o=0,a=t;o<a.length;o++){var u=a[o];r.set(u,i),i+=u.length}return r},a=new(function(){function t(){this.textEncoder=new TextEncoder,this.textDecoder=new TextDecoder}return t.prototype.decodeBlock=function(t){var e=new r(t.buffer,t.byteOffset),n=e.getUint32(),i=e.getUint32();return{totalBytesCount:n,fileName:this.decode(e.getBinary(i)),totalBlockCount:e.getUint32(),currentBlockIndex:e.getUint32(),binary:e.getBinary()}},t.prototype.split=function(t,e,n){void 0===n&&(n=1e4);var r=[];if(0===t.length)return r;for(var a=Math.floor((t.length-1)/n)+1,u=i(!0,a),s=i(!0,t.length),d=this.encode(e),f=i(!0,d.length),c=0;c<a;c++){var h=t.subarray(c*n,c*n+n),l=i(!0,c),p=o(s,f,d,u,l,h);r.push(p)}return r},t.prototype.encode=function(t){return this.textEncoder.encode(t)},t.prototype.decode=function(t){return this.textDecoder.decode(t)},t}());onmessage=function(t){var e,n,r,i=t.data,o=Date.now();"split file"===i.kind&&(e=i.file,n=function(t){var e=a.split(t,i.fileName);console.log("cost "+(Date.now()-o)/1e3+" s"),postMessage({kind:"split file result",blocks:e},void 0)},(r=new FileReader).onload=function(){n(new Uint8Array(r.result))},r.readAsArrayBuffer(e))}}]);